{"ast":null,"code":"var _jsxFileName = \"/Users/ashpawad/Documents/Practice/Event-booking/fe-event-booking/src/pages/Auth/Auth.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from \"react\";\nimport classes from './Auth.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Auth(props) {\n  _s();\n\n  const emailRef = useRef(null);\n  const passwordRef = useRef(null);\n\n  const createUser = async (email, pass) => {\n    const requestBody = {\n      query: ` \n            mutation {\n                createUser(email: \"${email}\", password: \"${pass}\") {\n                  _id\n                  email\n                }\n              }\n        `\n    };\n\n    try {\n      const response = await fetch('http://localhost:3001/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      console.log(data);\n    } catch (error) {\n      console.log('ERROR' - error.message);\n      console.log('COMPLETE ERROR', error, JSON.stringify(error));\n    }\n  };\n\n  const login = async (email, pass) => {\n    const requestBody = {\n      query: ` \n            query {\n                login(email: \"${email}\", password: \"${pass}\") {\n                  userId\n                  expiresIn\n                  email\n                  token\n                }\n              }\n        `\n    };\n\n    try {\n      const response = await fetch('http://localhost:3001/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      console.log(data.data.login.token);\n      login({\n        token: data.data.login.token,\n        userId: data.data.login.userId\n      });\n    } catch (error) {\n      console.log('ERROR' - error.message);\n      console.log('COMPLETE ERROR', error, JSON.stringify(error));\n    }\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    const email = emailRef.current.value;\n    const password = passwordRef.current.value;\n    login(email, password);\n  };\n\n  const signUpHandler = e => {\n    e.preventDefault();\n    const email = emailRef.current.value;\n    const password = passwordRef.current.value;\n    createUser(email, password);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.main,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: classes.mainform,\n      onSubmit: onSubmitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.form_control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: classes.form_control_label,\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: classes.form_input,\n          placeholder: \"Email\",\n          ref: emailRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.form_control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: classes.form_control_label,\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: classes.form_input,\n          placeholder: \"Password\",\n          ref: passwordRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.form_control_button,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: classes.button,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: classes.button,\n          onClick: signUpHandler,\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Auth, \"kzhJ70L4zutTer2/sxB1ru7ui/E=\");\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["/Users/ashpawad/Documents/Practice/Event-booking/fe-event-booking/src/pages/Auth/Auth.js"],"names":["React","useRef","useState","classes","Auth","props","emailRef","passwordRef","createUser","email","pass","requestBody","query","response","fetch","method","body","JSON","stringify","headers","data","json","console","log","error","message","login","token","userId","onSubmitHandler","e","preventDefault","current","value","password","signUpHandler","main","mainform","form_control","form_control_label","form_input","form_control_button","button"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport classes from './Auth.module.css';\n\nfunction Auth(props) {\n\n    const emailRef = useRef(null);\n    const passwordRef = useRef(null);\n\n    const createUser = async (email, pass) => {\n        const requestBody = {\n            query: ` \n            mutation {\n                createUser(email: \"${email}\", password: \"${pass}\") {\n                  _id\n                  email\n                }\n              }\n        `\n        };\n        try {\n            const response = await fetch('http://localhost:3001/graphql',\n             {\n                method: 'POST',\n                body: JSON.stringify(requestBody),\n                headers: {\n                    'Content-Type': 'application/json',\n                }\n            });\n            const data = await response.json();\n            console.log(data);\n        } catch (error) {\n            console.log('ERROR' - error.message);\n            console.log('COMPLETE ERROR', error, JSON.stringify(error));\n        }\n    }\n\n    const login = async (email, pass) => {\n        const requestBody = {\n            query: ` \n            query {\n                login(email: \"${email}\", password: \"${pass}\") {\n                  userId\n                  expiresIn\n                  email\n                  token\n                }\n              }\n        `\n        };\n        try {\n            const response = await fetch('http://localhost:3001/graphql',\n             {\n                method: 'POST',\n                body: JSON.stringify(requestBody),\n                headers: {\n                    'Content-Type': 'application/json',\n                }\n            });\n            const data = await response.json();\n            console.log(data.data.login.token);\n            login({token: data.data.login.token, userId: data.data.login.userId});\n        } catch (error) {\n            console.log('ERROR' - error.message);\n            console.log('COMPLETE ERROR', error, JSON.stringify(error));\n        }\n    }\n\n    const onSubmitHandler = (e) => {\n        e.preventDefault();\n        const email = emailRef.current.value;\n        const password = passwordRef.current.value;\n        login(email, password);\n    }\n\n    const signUpHandler = (e) => {\n        e.preventDefault();\n        const email = emailRef.current.value;\n        const password = passwordRef.current.value;\n        createUser(email, password);\n    }\n    \n    return (\n        <div className={classes.main}>\n            <form className={classes.mainform} onSubmit={onSubmitHandler}>\n                <div className={classes.form_control}>\n                <label className={classes.form_control_label}>Email</label>\n                <input type='text' className={classes.form_input} placeholder=\"Email\" ref={emailRef}/>\n                </div>\n                <div className={classes.form_control}>\n                <label className={classes.form_control_label}>Password</label>\n                <input type='password' className={classes.form_input} placeholder=\"Password\" ref={passwordRef}/>\n                </div>\n                <div className={classes.form_control_button}>\n                    <button type=\"submit\" className={classes.button}>Login</button>\n                    <button type=\"button\" className={classes.button} onClick={signUpHandler}>Sign Up</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Auth;"]},"metadata":{},"sourceType":"module"}